% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/EndogenousSimulator.R
\name{EndogenousSystem}
\alias{EndogenousSystem}
\title{Endogenous System Class}
\description{
An R6 Class that manages a system of interdependent models for simulation purposes.
The EndogenousSystem coordinates model fitting, simulation execution (both sequential
and parallel), and result visualization.
}
\details{
The EndogenousSystem class provides a framework for handling complex systems where
multiple variables interact and depend on each other. It manages the simulation
process and provides tools for analyzing and visualizing results.
}
\examples{

## ------------------------------------------------
## Method `EndogenousSystem$new`
## ------------------------------------------------

\dontrun{
system <- EndogenousSystem$new(
  data = my_data,
  groupvar = "group",
  timevar = "time",
  test_start = 100,
  train_start = 1
)
}

## ------------------------------------------------
## Method `EndogenousSystem$simulate`
## ------------------------------------------------

\dontrun{
system$simulate(
  horizon = 10,
  nsim = 100,
  parallel = TRUE,
  ncores = 4,
  seed = 123
)
}

## ------------------------------------------------
## Method `EndogenousSystem$plot`
## ------------------------------------------------

\dontrun{
system$plot("revenue", units = c("unit1", "unit2"))
}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{simulator}}{The EndogenousSimulator instance managing the core simulation}

\item{\code{simulated_data}}{Data.table containing simulation results}

\item{\code{simulated_models}}{List of fitted models used in simulations}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-EndogenousSystem-new}{\code{EndogenousSystem$new()}}
\item \href{#method-EndogenousSystem-add_model}{\code{EndogenousSystem$add_model()}}
\item \href{#method-EndogenousSystem-fit}{\code{EndogenousSystem$fit()}}
\item \href{#method-EndogenousSystem-simulate}{\code{EndogenousSystem$simulate()}}
\item \href{#method-EndogenousSystem-plot}{\code{EndogenousSystem$plot()}}
\item \href{#method-EndogenousSystem-clone}{\code{EndogenousSystem$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSystem-new"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSystem-new}{}}}
\subsection{Method \code{new()}}{
Create a new endogenous system
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSystem$new(
  data,
  groupvar,
  timevar,
  test_start,
  train_start,
  min_window = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{data}}{A data.frame or data.table containing the input data}

\item{\code{groupvar}}{Character string specifying the grouping variable column name}

\item{\code{timevar}}{Character string specifying the time variable column name}

\item{\code{test_start}}{Numeric value indicating when the test period begins}

\item{\code{train_start}}{Numeric value indicating when the training period begins}

\item{\code{min_window}}{Numeric value specifying the minimum window size for bootstrap sampling}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{EndogenousSystem} object
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
system <- EndogenousSystem$new(
  data = my_data,
  groupvar = "group",
  timevar = "time",
  test_start = 100,
  train_start = 1
)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSystem-add_model"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSystem-add_model}{}}}
\subsection{Method \code{add_model()}}{
Add a model to the system
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSystem$add_model(model)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model}}{A Model object to add to the system}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Models must not create circular dependencies when added
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSystem-fit"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSystem-fit}{}}}
\subsection{Method \code{fit()}}{
Fit specified models or all models in the system
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSystem$fit(models = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{models}}{Optional list of specific models to fit}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSystem-simulate"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSystem-simulate}{}}}
\subsection{Method \code{simulate()}}{
Run simulations either sequentially or in parallel
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSystem$simulate(
  horizon,
  nsim,
  result_folder = NULL,
  parallel = TRUE,
  ncores = 6,
  seed = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{horizon}}{Number of time periods to simulate}

\item{\code{nsim}}{Number of simulations to run}

\item{\code{result_folder}}{Optional path to save results}

\item{\code{parallel}}{Whether to use parallel processing}

\item{\code{ncores}}{Number of cores for parallel processing}

\item{\code{seed}}{Optional random seed for reproducibility}
}
\if{html}{\out{</div>}}
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
system$simulate(
  horizon = 10,
  nsim = 100,
  parallel = TRUE,
  ncores = 4,
  seed = 123
)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSystem-plot"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSystem-plot}{}}}
\subsection{Method \code{plot()}}{
Visualize simulation results for specific variables and units
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSystem$plot(outcome, units)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{outcome}}{Character string specifying the outcome variable to plot}

\item{\code{units}}{Vector of unit identifiers to include in the plot}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A ggplot2 object showing simulation results with uncertainty bands
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
system$plot("revenue", units = c("unit1", "unit2"))
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSystem-clone"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSystem-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSystem$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
