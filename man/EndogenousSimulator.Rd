% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/EndogenousSimulator.R
\name{EndogenousSimulator}
\alias{EndogenousSimulator}
\title{Endogenous Simulator Class}
\description{
An R6 Class that handles the core simulation logic for systems of interdependent
models. It manages model dependencies, execution order, and the actual simulation
process.
}
\details{
The EndogenousSimulator is responsible for:
\itemize{
\item Validating and managing model dependencies
\item Determining the correct order of model execution
\item Handling both exogenous and endogenous variables
\item Managing the simulation state through time
}

The simulator ensures that models are executed in the correct order based on their
dependencies and handles both exogenous and endogenous variables appropriately.
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{data}}{The full dataset used for simulation}

\item{\code{train}}{Training dataset subset}

\item{\code{groupvar}}{Character string specifying the grouping variable}

\item{\code{timevar}}{Character string specifying the time variable}

\item{\code{test_start}}{Numeric indicating start of test period}

\item{\code{train_start}}{Numeric indicating start of training period}

\item{\code{min_window}}{Minimum window size for bootstrap sampling}

\item{\code{time_parameters}}{List of time-related parameters}

\item{\code{models}}{List of models in the system}

\item{\code{dependency_graph}}{igraph object representing model dependencies}

\item{\code{outputs}}{Character vector of output variable names}

\item{\code{simulation_data}}{Data.table containing current simulation results}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-EndogenousSimulator-new}{\code{EndogenousSimulator$new()}}
\item \href{#method-EndogenousSimulator-add_model}{\code{EndogenousSimulator$add_model()}}
\item \href{#method-EndogenousSimulator-fit}{\code{EndogenousSimulator$fit()}}
\item \href{#method-EndogenousSimulator-simulate}{\code{EndogenousSimulator$simulate()}}
\item \href{#method-EndogenousSimulator-get_simulation_state}{\code{EndogenousSimulator$get_simulation_state()}}
\item \href{#method-EndogenousSimulator-clone}{\code{EndogenousSimulator$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSimulator-new"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSimulator-new}{}}}
\subsection{Method \code{new()}}{
Create a new endogenous simulator instance
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSimulator$new(
  data,
  groupvar,
  timevar,
  test_start,
  train_start,
  min_window = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{data}}{A data.frame or data.table containing the input data}

\item{\code{groupvar}}{Character string specifying the grouping variable column name}

\item{\code{timevar}}{Character string specifying the time variable column name}

\item{\code{test_start}}{Numeric value indicating when the test period begins}

\item{\code{train_start}}{Numeric value indicating when the training period begins}

\item{\code{min_window}}{Numeric value specifying minimum window size for bootstrap}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{EndogenousSimulator} object
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSimulator-add_model"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSimulator-add_model}{}}}
\subsection{Method \code{add_model()}}{
Add a model to the simulator and update dependency graph
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSimulator$add_model(model)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{model}}{Model object to add to the system}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Invisible self (for method chaining)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSimulator-fit"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSimulator-fit}{}}}
\subsection{Method \code{fit()}}{
Fit all models using the training data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSimulator$fit()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSimulator-simulate"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSimulator-simulate}{}}}
\subsection{Method \code{simulate()}}{
Run a single simulation for the specified horizon
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSimulator$simulate(horizon)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{horizon}}{Number of time periods to simulate}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSimulator-get_simulation_state"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSimulator-get_simulation_state}{}}}
\subsection{Method \code{get_simulation_state()}}{
Get current state of the simulation for debugging
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSimulator$get_simulation_state()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
List containing data summary, model summary, and graph summary
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-EndogenousSimulator-clone"></a>}}
\if{latex}{\out{\hypertarget{method-EndogenousSimulator-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{EndogenousSimulator$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
